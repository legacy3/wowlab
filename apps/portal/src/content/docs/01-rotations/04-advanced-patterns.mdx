---
title: Advanced Patterns
description: Complex rotation techniques
nextSteps:
  - 02-concepts/00-how-sims-work
  - 02-concepts/01-damage-calculation
---

# Advanced Patterns

Techniques for optimizing rotations beyond basic priority lists.

## Resource pooling

Wait for resources before a damage window:

```json
{
  "variables": {
    "pool_for_bw": "cd.bestial_wrath.remains < 2 & focus.current < 80"
  },
  "actions": [
    { "pool": true, "if": "variable.pool_for_bw" },
    { "cast": "bestial_wrath", "if": "cd.bestial_wrath.ready" },
    { "cast": "cobra_shot" }
  ]
}
```

The pool action delays casting until resources build up. Use `extra` to pool beyond the next spell's cost:

```json
{ "pool": true, "extra": 30, "if": "cd.bestial_wrath.remains < 3" }
```

## Cooldown sync

Align cooldowns for burst windows:

```json
{
  "variables": {
    "sync_cds": "cd.bestial_wrath.remains < 5 & cd.call_of_the_wild.remains < 5"
  },
  "actions": [
    {
      "cast": "bestial_wrath",
      "if": "variable.sync_cds | cd.bestial_wrath.remains > 30"
    },
    { "cast": "call_of_the_wild", "if": "buff.bestial_wrath.active" }
  ]
}
```

This delays Bestial Wrath if Call of the Wild is almost ready, but uses it anyway if the delay would be too long.

## AoE transitions

Switch between single target and AoE rotations:

```json
{
  "lists": {
    "st": [{ "cast": "kill_command" }, { "cast": "cobra_shot" }],
    "aoe": [
      { "cast": "multi_shot", "if": "!buff.beast_cleave.active" },
      { "cast": "kill_command" },
      { "cast": "cobra_shot" }
    ]
  },
  "actions": [
    { "call": "cooldowns" },
    { "run": "aoe", "if": "enemy.count >= 3" },
    { "run": "st" }
  ]
}
```

Use `run` (not `call`) for the final branch since it should handle the entire GCD.

## Execute phase

Adjust priorities for low health:

```json
{
  "variables": {
    "execute": "target.health_percent < 20"
  },
  "actions": [
    { "cast": "kill_shot", "if": "variable.execute & cd.kill_shot.ready" },
    { "cast": "kill_command" }
  ]
}
```

## DoT management

Maintain DoTs with pandemic refresh:

```json
{
  "actions": [
    { "cast": "serpent_sting", "if": "!debuff.serpent_sting.active" },
    { "cast": "serpent_sting", "if": "debuff.serpent_sting.refreshable" },
    { "cast": "cobra_shot" }
  ]
}
```

The `refreshable` check returns true when remaining duration is below 30% of base (pandemic window).

## Proc reactions

React to random procs:

```json
{
  "actions": [
    { "cast": "barbed_shot", "if": "buff.wild_call.active" },
    { "cast": "barbed_shot", "if": "cd.barbed_shot.charges = 2" },
    { "cast": "kill_command" }
  ]
}
```

High priority for proc-granted actions, lower priority for charge management.

## Defensive conditions

Skip damage for survival:

```json
{
  "variables": {
    "danger": "player.health_percent < 30"
  },
  "actions": [
    { "cast": "exhilaration", "if": "variable.danger & cd.exhilaration.ready" },
    { "cast": "kill_command" }
  ]
}
```

## Fight-end optimization

Spend everything before the boss dies:

```json
{
  "variables": {
    "ending": "combat.remains < 10"
  },
  "actions": [
    {
      "cast": "bestial_wrath",
      "if": "variable.ending & cd.bestial_wrath.ready"
    },
    { "cast": "kill_command" }
  ]
}
```

This uses cooldowns regardless of normal timing rules if the fight is ending.

## Named list organization

Structure complex rotations:

```json
{
  "lists": {
    "precombat": [{ "cast": "bestial_wrath" }],
    "cooldowns": [
      { "cast": "bestial_wrath", "if": "cd.bestial_wrath.ready" },
      { "cast": "call_of_the_wild", "if": "buff.bestial_wrath.active" }
    ],
    "core": [
      { "cast": "barbed_shot", "if": "cd.barbed_shot.charges >= 1" },
      { "cast": "kill_command" },
      { "cast": "cobra_shot" }
    ]
  },
  "actions": [
    { "call": "precombat", "if": "combat.time = 0" },
    { "call": "cooldowns" },
    { "run": "core" }
  ]
}
```
